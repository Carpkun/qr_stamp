# 📱 LTE 환경에서 스마트폰 카메라 테스트 가이드

## 🌐 ngrok을 이용한 외부 접속 설정

### **1단계: ngrok 터널 생성**

1. **새 터미널(명령 프롬프트 또는 PowerShell) 열기**
2. **다음 명령어 실행**:
   ```bash
   ngrok http 3000
   ```

3. **터널 정보 확인**:
   - 실행하면 다음과 같은 화면이 표시됩니다:
   ```
   Session Status                online
   Account                       (Plan: Free)
   Version                       3.3.1
   Region                        United States (us)
   Latency                       50ms
   Web Interface                 http://127.0.0.1:4040
   Forwarding                    https://abcd1234.ngrok.io -> http://localhost:3000
   ```

4. **HTTPS URL 복사**:
   - `https://abcd1234.ngrok.io` 형태의 URL을 복사하세요
   - 이 URL이 전 세계 어디서든 접속 가능한 주소입니다

### **2단계: 스마트폰에서 LTE 테스트**

#### **접속 준비**
1. **WiFi 끄기**: 스마트폰에서 WiFi를 끄고 LTE로 연결
2. **브라우저 열기**: Chrome, Safari 등 모바일 브라우저 실행
3. **URL 입력**: ngrok에서 제공된 HTTPS URL 입력

#### **테스트 순서**
1. **메인 페이지 접속 확인**:
   - "제46회 소양강문화제" 타이틀 표시
   - "체험부스 스탬프 투어" 부제목 표시
   - 스탬프 진행률 (0/17) 표시

2. **QR 스캔 기능 테스트**:
   - "QR 스캔하기" 버튼 클릭
   - 카메라 권한 요청 시 "허용" 클릭
   - 실시간 카메라 화면 표시 확인

3. **QR 코드 스캔 테스트**:
   - PC 화면의 QR 코드를 스마트폰 카메라로 스캔
   - 스캔 성공 시 스탬프 기록 및 성공 메시지 확인

### **3단계: 테스트 시나리오**

#### **기본 기능 테스트**
- [ ] **카메라 접근**: 권한 요청 및 허용
- [ ] **실시간 스트림**: 카메라 화면 정상 표시  
- [ ] **QR 코드 인식**: PC 화면의 QR 코드 스캔
- [ ] **API 통신**: 스탬프 기록이 서버에 전송
- [ ] **UI 반응**: 성공 메시지 및 진행률 업데이트

#### **에러 시나리오 테스트**
- [ ] **중복 방문**: 같은 부스 재스캔 시 경고 메시지
- [ ] **잘못된 QR**: 다른 형식 QR 코드 스캔 시 에러 처리
- [ ] **네트워크 끊김**: 연결 실패 시 적절한 에러 메시지

#### **사용자 경험 테스트**
- [ ] **반응속도**: QR 스캔부터 결과까지 2초 이내
- [ ] **직관적 UI**: 버튼과 메시지가 명확히 표시
- [ ] **진행률 표시**: 현재 상태가 명확히 보임

---

## 🎯 **현재 실행 상태**

### **백엔드 서버**
- ✅ Django: `http://localhost:8000`
- ✅ MySQL 데이터베이스 연결
- ✅ API 엔드포인트 모두 정상 (200 OK)

### **프론트엔드 서버**  
- ✅ React HTTPS: `https://localhost:3000`
- ✅ QR 코드 생성기: 브라우저에서 실행 중
- ⏳ Ngrok 터널: 수동 설정 필요

---

## 🚨 **문제 해결 가이드**

### **ngrok 명령어가 인식되지 않는 경우**
```bash
# PATH 환경변수 새로고침
$env:PATH = [System.Environment]::GetEnvironmentVariable("PATH","Machine") + ";" + [System.Environment]::GetEnvironmentVariable("PATH","User")

# 또는 직접 실행
C:\Users\[사용자명]\AppData\Local\Microsoft\WinGet\Packages\Ngrok.Ngrok_Microsoft.Winget.Source_8wekyb3d8bbwe\ngrok.exe http 3000
```

### **카메라 권한이 거부되는 경우**
1. **Chrome**: 설정 → 개인정보 보호 및 보안 → 사이트 설정 → 카메라
2. **Safari**: 설정 → Safari → 웹사이트용 설정 → 카메라

### **QR 스캔이 작동하지 않는 경우**
- 화면 밝기를 최대로 설정
- QR 코드를 카메라 중앙에 맞춤
- 적절한 거리 유지 (10-30cm)
- 손 흔들림 최소화

---

## 📊 **성능 테스트 체크포인트**

### **네트워크 성능**
- [ ] **응답 시간**: API 호출 < 3초 (LTE 환경)
- [ ] **데이터 사용량**: 페이지 로드 < 1MB
- [ ] **연결 안정성**: 5분간 연결 유지

### **배터리 사용량**
- [ ] **카메라 사용**: 과도한 배터리 소모 없음
- [ ] **CPU 사용률**: 스캔 중 발열 최소화
- [ ] **메모리 사용**: 브라우저 크래시 없음

---

## 💡 **팁과 권장사항**

1. **최적의 스캔 환경**:
   - 충분한 조명 확보
   - 안정된 손목 지지
   - QR 코드 전체가 화면에 들어오도록 조정

2. **브라우저 선택**:
   - **Android**: Chrome 브라우저 권장
   - **iOS**: Safari 사용 (Chrome보다 카메라 성능 우수)

3. **네트워크 최적화**:
   - LTE 신호가 강한 곳에서 테스트
   - 필요시 5G 연결 활용

---

*이 가이드는 QR 스탬프 투어 시스템의 LTE 환경 테스트를 위해 작성되었습니다.*
